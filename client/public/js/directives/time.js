(function() {
  var app;

  app = angular.module('moedit.App');

  app.directive("time", [
    "$timeout", "$filter", function($timeout, $filter) {
      return function(scope, element, attrs) {
        var filter, intervalLength, time_string, timeoutId, updateLater, updateTime;
        updateTime = function() {
          return element.text(filter(time_string));
        };
        updateLater = function() {
          var timeoutId;
          return timeoutId = $timeout(function() {
            updateTime();
            return updateLater();
          }, intervalLength);
        };
        timeoutId = null;
        time_string = attrs.time;
        intervalLength = 1000 * 10;
        filter = $filter("fromNow");
        element.bind("$destroy", function() {
          return $timeout.cancel(timeoutId);
        });
        updateTime();
        return updateLater();
      };
    }
  ]);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpcmVjdGl2ZXMvdGltZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBLEdBQUE7O0FBQUEsRUFBQSxHQUFBLEdBQU0sT0FBTyxDQUFDLE1BQVIsQ0FBZSxZQUFmLENBQU4sQ0FBQTs7QUFBQSxFQUVBLEdBQUcsQ0FBQyxTQUFKLENBQWMsTUFBZCxFQUFzQjtJQUFHLFVBQUgsRUFBZ0IsU0FBaEIsRUFBNEIsU0FBQyxRQUFELEVBQVcsT0FBWCxHQUFBO0FBQ2pELGFBQU8sU0FBQyxLQUFELEVBQVEsT0FBUixFQUFpQixLQUFqQixHQUFBO0FBQ04sWUFBQSx1RUFBQTtBQUFBLFFBQUEsVUFBQSxHQUFhLFNBQUEsR0FBQTtpQkFDWixPQUFPLENBQUMsSUFBUixDQUFhLE1BQUEsQ0FBTyxXQUFQLENBQWIsRUFEWTtRQUFBLENBQWIsQ0FBQTtBQUFBLFFBR0EsV0FBQSxHQUFjLFNBQUEsR0FBQTtBQUNiLGNBQUEsU0FBQTtpQkFBQSxTQUFBLEdBQVksUUFBQSxDQUFTLFNBQUEsR0FBQTtBQUNwQixZQUFBLFVBQUEsQ0FBQSxDQUFBLENBQUE7bUJBQ0EsV0FBQSxDQUFBLEVBRm9CO1VBQUEsQ0FBVCxFQUdWLGNBSFUsRUFEQztRQUFBLENBSGQsQ0FBQTtBQUFBLFFBU0EsU0FBQSxHQUFZLElBVFosQ0FBQTtBQUFBLFFBVUEsV0FBQSxHQUFjLEtBQUssQ0FBQyxJQVZwQixDQUFBO0FBQUEsUUFXQSxjQUFBLEdBQWlCLElBQUEsR0FBTyxFQVh4QixDQUFBO0FBQUEsUUFZQSxNQUFBLEdBQVMsT0FBQSxDQUFRLFNBQVIsQ0FaVCxDQUFBO0FBQUEsUUFhQSxPQUFPLENBQUMsSUFBUixDQUFhLFVBQWIsRUFBeUIsU0FBQSxHQUFBO2lCQUN4QixRQUFRLENBQUMsTUFBVCxDQUFnQixTQUFoQixFQUR3QjtRQUFBLENBQXpCLENBYkEsQ0FBQTtBQUFBLFFBZ0JBLFVBQUEsQ0FBQSxDQWhCQSxDQUFBO2VBaUJBLFdBQUEsQ0FBQSxFQWxCTTtNQUFBLENBQVAsQ0FEaUQ7SUFBQSxDQUE1QjtHQUF0QixDQUZBLENBQUE7QUFBQSIsImZpbGUiOiJkaXJlY3RpdmVzL3RpbWUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbW9lZGl0LkFwcCcpXG5cbmFwcC5kaXJlY3RpdmUgXCJ0aW1lXCIsIFsgIFwiJHRpbWVvdXRcIiwgIFwiJGZpbHRlclwiLCAgKCR0aW1lb3V0LCAkZmlsdGVyKSAtPlxuXHRyZXR1cm4gKHNjb3BlLCBlbGVtZW50LCBhdHRycykgLT5cblx0XHR1cGRhdGVUaW1lID0gLT5cblx0XHRcdGVsZW1lbnQudGV4dCBmaWx0ZXIodGltZV9zdHJpbmcpXG5cblx0XHR1cGRhdGVMYXRlciA9IC0+XG5cdFx0XHR0aW1lb3V0SWQgPSAkdGltZW91dCgtPlxuXHRcdFx0XHR1cGRhdGVUaW1lKClcblx0XHRcdFx0dXBkYXRlTGF0ZXIoKVxuXHRcdFx0LCBpbnRlcnZhbExlbmd0aClcblxuXHRcdHRpbWVvdXRJZCA9IG51bGxcblx0XHR0aW1lX3N0cmluZyA9IGF0dHJzLnRpbWVcblx0XHRpbnRlcnZhbExlbmd0aCA9IDEwMDAgKiAxMCAjIDEwc1xuXHRcdGZpbHRlciA9ICRmaWx0ZXIoXCJmcm9tTm93XCIpXG5cdFx0ZWxlbWVudC5iaW5kIFwiJGRlc3Ryb3lcIiwgLT5cblx0XHRcdCR0aW1lb3V0LmNhbmNlbCB0aW1lb3V0SWRcblxuXHRcdHVwZGF0ZVRpbWUoKVxuXHRcdHVwZGF0ZUxhdGVyKClcbl0iXX0=